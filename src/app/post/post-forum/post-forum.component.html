<h1>Gestion des Posts</h1>

<!-- Formulaire pour créer ou éditer un post -->
<form (ngSubmit)="savePost()">
  <div>
    <label for="contenu">Contenu:</label>
    <input type="text" id="contenu" [(ngModel)]="post.contenu" name="contenu" required>
  </div>
  <div>
    <label for="image">Image URL:</label>
    <input type="text" id="image" [(ngModel)]="post.image" name="image">
  </div>
  <div>
    <label for="user_id">User ID:</label>
    <input type="number" id="user_id" [(ngModel)]="post.user_id" name="user_id" required>
  </div>
  <div>
    <label for="forum_id">Forum ID:</label>
    <input type="number" id="forum_id" [(ngModel)]="post.forum_id" name="forum_id" required>
  </div>
  <button type="submit">{{ isEditing ? 'Mettre à jour' : 'Créer' }}</button>
  <button type="button" (click)="cancelEdit()" *ngIf="isEditing">Annuler</button>
</form>

<!-- Liste des posts -->
<table *ngIf="!isEditing">
  <thead>
    <tr>
      <th>ID</th>
      <th>Contenu</th>
      <th>Image</th>
      <th>User ID</th>
      <th>Forum ID</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let post of posts">
      <td>{{ post.id }}</td>
      <td>{{ post.contenu }}</td>
      <td><img [src]="post.image" alt="Image du post" width="100"></td>
      <td>{{ post.user_id }}</td>
      <td>{{ post.forum_id }}</td>
      <td>
        <button (click)="editPost(post)">Éditer</button>
        <button (click)="deletePost(post.id)">Supprimer</button>
      </td>
    </tr>
  </tbody>
</table>
